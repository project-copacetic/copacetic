"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2338],{1619:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"release","title":"Release Process","description":"Overview","source":"@site/docs/release.md","sourceDirName":".","slug":"/release","permalink":"/copacetic/website/next/release","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Release Process"},"sidebar":"sidebar","previous":{"title":"Maintainer Guidelines","permalink":"/copacetic/website/next/maintainer-guidelines"},"next":{"title":"Adopters","permalink":"/copacetic/website/next/adopters"}}');var r=n(4848),a=n(8453);const t={title:"Release Process"},l=void 0,c={},o=[{value:"Overview",id:"overview",level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Release Versioning",id:"release-versioning",level:2},{value:"Tagging Strategy",id:"tagging-strategy",level:3},{value:"Release Process",id:"release-process",level:2},{value:"Release Candidate (RC) Process",id:"release-candidate-rc-process",level:3},{value:"Creating a Release Candidate",id:"creating-a-release-candidate",level:4},{value:"Publishing the Final Release",id:"publishing-the-final-release",level:4},{value:"Major/Minor Release Process",id:"majorminor-release-process",level:3},{value:"Patch Release Process",id:"patch-release-process",level:3},{value:"Supported Releases",id:"supported-releases",level:2},{value:"Supported Platforms",id:"supported-platforms",level:2},{value:"Acknowledgement",id:"acknowledgement",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"This document describes the release management process for the Copacetic project, including release versioning, supported releases, upgrade guidelines, and operational details for cutting and publishing releases."}),"\n",(0,r.jsx)(s.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"What versioning scheme does Copacetic use?"})," Copacetic uses semantic versioning with the format ",(0,r.jsx)(s.code,{children:"vX.Y.Z"}),", where X is the major version, Y is the minor version, and Z is the patch version. All release tags are prefixed with ",(0,r.jsx)(s.code,{children:"v"})," (e.g., ",(0,r.jsx)(s.code,{children:"v0.10.0"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"What constitutes a breaking change?"})," Breaking changes include schema changes, flag changes, or behavioral changes in Copacetic that may require a clean installation during upgrade and may introduce changes that could break backward compatibility."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"How are milestones used in the release process?"})," Milestones are designed to encapsulate feature sets that fit within a 3-month release cycle, including testing gates. GitHub's milestones are used by maintainers to manage each release, with PRs and Issues tracked as part of corresponding milestones."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"What are patch releases?"})," Patch releases contain applicable fixes, including security fixes, that may be backported to supported releases, depending on severity and feasibility."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"What testing is required before a release?"})," Test gates include relevant integration and unit tests to ensure release quality and stability before any release is published."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"release-versioning",children:"Release Versioning"}),"\n",(0,r.jsxs)(s.p,{children:["All releases follow the format ",(0,r.jsx)(s.code,{children:"vX.Y.Z"}),", where X is the major version, Y is the minor version, and Z is the patch version. Copacetic uses ",(0,r.jsx)(s.a,{href:"https://semver.org/",children:"semantic versioning"}),"."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Major Releases:"})," Introduce incompatible API changes or significant design overhauls. As of now, Copacetic is in v0 and has not had a major version increase."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Minor Releases:"})," Add new features in a backward-compatible manner. E.g., v0.9.0, v0.10.0."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Patch Releases:"})," Contain backward-compatible bug fixes or security patches. E.g., v0.6.1, v0.6.2."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"tagging-strategy",children:"Tagging Strategy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["All release tags are prefixed with ",(0,r.jsx)(s.code,{children:"v"}),", e.g., ",(0,r.jsx)(s.code,{children:"v0.10.0"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Tags are created on the default branch (typically ",(0,r.jsx)(s.code,{children:"main"}),"), or on a release branch when applicable."]}),"\n",(0,r.jsxs)(s.li,{children:["Patch releases increment the Z portion, e.g., ",(0,r.jsx)(s.code,{children:"v0.6.1"})," \u2192 ",(0,r.jsx)(s.code,{children:"v0.6.2"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Minor releases increment the Y portion, e.g., ",(0,r.jsx)(s.code,{children:"v0.9.0"})," \u2192 ",(0,r.jsx)(s.code,{children:"v0.10.0"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Release candidates (RC) follow the pattern ",(0,r.jsx)(s.code,{children:"vX.Y.Z-rc.N"}),", e.g., ",(0,r.jsx)(s.code,{children:"v0.12.0-rc.1"}),", ",(0,r.jsx)(s.code,{children:"v0.12.0-rc.2"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"release-process",children:"Release Process"}),"\n",(0,r.jsxs)(s.p,{children:["Copacetic uses ",(0,r.jsx)(s.a,{href:"https://goreleaser.com/",children:"GoReleaser"})," for automating releases. The release process differs depending on whether you're cutting a major/minor release or a patch release."]}),"\n",(0,r.jsx)(s.h3,{id:"release-candidate-rc-process",children:"Release Candidate (RC) Process"}),"\n",(0,r.jsx)(s.p,{children:"For major and minor releases, it is recommended to publish a release candidate (RC) before the final release to gather community feedback and ensure stability."}),"\n",(0,r.jsx)(s.h4,{id:"creating-a-release-candidate",children:"Creating a Release Candidate"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Prepare the Release Branch"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git checkout main\ngit pull upstream main\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Create and Push the RC Tag"})}),"\n",(0,r.jsx)(s.p,{children:"For the first release candidate:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git tag -a v<MAJOR>.<MINOR>.0-rc.1 -m 'v<MAJOR>.<MINOR>.0-rc.1'\ngit push upstream v<MAJOR>.<MINOR>.0-rc.1\n"})}),"\n",(0,r.jsx)(s.p,{children:"For subsequent release candidates (if fixes are needed):"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git tag -a v<MAJOR>.<MINOR>.0-rc.2 -m 'v<MAJOR>.<MINOR>.0-rc.2'\ngit push upstream v<MAJOR>.<MINOR>.0-rc.2\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Gather Feedback"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Announce the RC to the community"}),"\n",(0,r.jsx)(s.li,{children:"Monitor for bug reports and feedback"}),"\n",(0,r.jsx)(s.li,{children:"Address critical issues if found"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Proceed to Final Release"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"If no critical issues are found, proceed with the final release (see Major/Minor Release Process below)"}),"\n",(0,r.jsx)(s.li,{children:"If critical issues are discovered, fix them and create a new RC (increment the RC number)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"publishing-the-final-release",children:"Publishing the Final Release"}),"\n",(0,r.jsx)(s.p,{children:"Once the RC has been validated and no critical issues remain, follow the Major/Minor Release Process below to publish the final release."}),"\n",(0,r.jsx)(s.h3,{id:"majorminor-release-process",children:"Major/Minor Release Process"}),"\n",(0,r.jsx)(s.p,{children:"For major and minor releases (e.g., v0.11.0, v0.12.0, v1.0.0):"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Note:"})," It is recommended to create a release candidate (RC) first before publishing the final release. See the ",(0,r.jsx)(s.a,{href:"#release-candidate-rc-process",children:"Release Candidate (RC) Process"})," section above."]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Prepare the Release Branch"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git checkout main\ngit pull upstream main\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Create and Push the Tag"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git tag -a <NEW VERSION> -m '<NEW VERSION>'\ngit push upstream <NEW VERSION>\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Publishing"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"GoReleaser will automatically create a new release."}),"\n",(0,r.jsx)(s.li,{children:"Release branches are automatically created during the release process. When a tag is pushed, the GitHub workflow automatically creates a corresponding release branch."}),"\n",(0,r.jsxs)(s.li,{children:["Review and edit the release at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/releases",children:"GitHub Releases"})]}),"\n",(0,r.jsxs)(s.li,{children:["Review the respective copa-action image at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/pkgs/container/copa-action",children:"GitHub Container Registry"})]}),"\n",(0,r.jsxs)(s.li,{children:["Review the respective copa-extension image at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/pkgs/container/copa-extension",children:"GitHub Container Registry"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"patch-release-process",children:"Patch Release Process"}),"\n",(0,r.jsxs)(s.p,{children:["For patch releases (e.g., ",(0,r.jsx)(s.code,{children:"v<MAJOR>.<MINOR>.<PATCH>"}),") that contain bug fixes or security patches:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Check out Release Branch"})}),"\n",(0,r.jsx)(s.p,{children:"Check out release branch from the tag:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git checkout release-<MAJOR>.<MINOR>\ngit pull upstream release-<MAJOR>.<MINOR>\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Cherry-pick the Fix"})}),"\n",(0,r.jsx)(s.p,{children:"Cherry-pick the commit(s) that contain the fix from the main branch:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git cherry-pick <COMMIT_HASH>\n"})}),"\n",(0,r.jsx)(s.p,{children:"For multiple commits:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"git cherry-pick <COMMIT_HASH_1> <COMMIT_HASH_2>\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Open a Pull Request"})}),"\n",(0,r.jsx)(s.p,{children:"Create a PR to the release branch:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:'git push upstream release-<MAJOR>.<MINOR>\ngh pr create --base release-<MAJOR>.<MINOR> --title "Cherry-pick fix for v<MAJOR>.<MINOR>.<PATCH>" --body "Cherry-picking fix from main branch for patch release v<MAJOR>.<MINOR>.<PATCH>"\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Review and Merge"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Get the PR reviewed by maintainers"}),"\n",(0,r.jsx)(s.li,{children:"Ensure all CI checks pass"}),"\n",(0,r.jsx)(s.li,{children:"Merge the PR to the release branch"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Tag the Release"})}),"\n",(0,r.jsx)(s.p,{children:"After the PR is merged, tag the release from the release branch:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:'git checkout release-<MAJOR>.<MINOR>\ngit pull upstream release-<MAJOR>.<MINOR>\ngit tag -a v<MAJOR>.<MINOR>.<PATCH> -m "Release v<MAJOR>.<MINOR>.<PATCH>"\ngit push upstream v<MAJOR>.<MINOR>.<PATCH>\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Publishing"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"GoReleaser will automatically create a new release"}),"\n",(0,r.jsxs)(s.li,{children:["Review and edit the release at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/releases",children:"GitHub Releases"})]}),"\n",(0,r.jsxs)(s.li,{children:["Review the respective copa-action image at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/pkgs/container/copa-action",children:"GitHub Container Registry"})]}),"\n",(0,r.jsxs)(s.li,{children:["Review the respective copa-extension image at: ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/pkgs/container/copa-extension",children:"GitHub Container Registry"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"supported-releases",children:"Supported Releases"}),"\n",(0,r.jsx)(s.p,{children:"Applicable fixes, including security fixes, may be cherry-picked into the release branch depending on severity and feasibility. Patch releases are cut from that branch as necessary."}),"\n",(0,r.jsx)(s.p,{children:"Users are encouraged to stay reasonably up-to-date with Copacetic versions in production. While immediate upgrades are not required, users should aim to run at least the latest patch release of their chosen minor version."}),"\n",(0,r.jsx)(s.p,{children:'Copacetic aims to "support" the current major.minor release (n). "Support" means maintainers expect that users may be running that version in production and will provide patches for critical issues. For example, when v0.10.0 is released, v0.9.x will no longer be supported for patches, and users are encouraged to upgrade to the supported version as soon as possible.'}),"\n",(0,r.jsx)(s.h2,{id:"supported-platforms",children:"Supported Platforms"}),"\n",(0,r.jsxs)(s.p,{children:["Copacetic maintains compatibility with the currently supported versions of its underlying platforms and dependencies. For example, if Copacetic integrates with BuildKit, it is assumed to be compatible with the ",(0,r.jsx)(s.a,{href:"https://github.com/moby/buildkit/releases",children:"current BuildKit supported versions"})," per BuildKit's compatibility guidelines."]}),"\n",(0,r.jsx)(s.p,{children:"If you choose to use Copacetic with a version of a dependency or platform that it does not explicitly support, you do so at your own risk."}),"\n",(0,r.jsx)(s.h2,{id:"acknowledgement",children:"Acknowledgement"}),"\n",(0,r.jsx)(s.p,{children:"This document builds upon the release processes and practices of open-source projects such as Kubernetes, Helm, and Gatekeeper."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:["For full release details and the latest updates, visit the ",(0,r.jsx)(s.a,{href:"https://github.com/project-copacetic/copacetic/releases",children:"Copacetic Releases page"}),"."]})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var i=n(6540);const r={},a=i.createContext(r);function t(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);