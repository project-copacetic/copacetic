"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6229],{7812:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"output","title":"Output","description":"Experimental: This feature might change without preserving backwards compatibility.","source":"@site/docs/output.md","sourceDirName":".","slug":"/output","permalink":"/copacetic/website/next/output","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Output"},"sidebar":"sidebar","previous":{"title":"Custom BuildKit Addresses","permalink":"/copacetic/website/next/custom-address"},"next":{"title":"Scanner Plugins","permalink":"/copacetic/website/next/scanner-plugins"}}');var o=n(4848),s=n(8453);const a={title:"Output"},c=void 0,r={},l=[{value:"OpenVEX",id:"openvex",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsx)(t.p,{children:"Experimental: This feature might change without preserving backwards compatibility."})}),"\n",(0,o.jsx)(t.p,{children:"Copa optionally outputs a Vulnerability Exploitability eXchange (VEX) file as a result of the patching process to surface the vulnerabilities and packages that were patched."}),"\n",(0,o.jsxs)(t.p,{children:["Currently, Copa supports the ",(0,o.jsx)(t.a,{href:"https://github.com/openvex",children:"OpenVEX"})," format, but it can be extended to support other formats."]}),"\n",(0,o.jsx)(t.h2,{id:"openvex",children:"OpenVEX"}),"\n",(0,o.jsxs)(t.p,{children:["OpenVEX is an implementation of Vulnerability Exploitability eXchange (VEX) format. For more information, see ",(0,o.jsx)(t.a,{href:"https://github.com/openvex/spec/",children:"OpenVEX specification"}),"."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Use ",(0,o.jsx)(t.code,{children:"COPA_VEX_AUTHOR"})," environment variable to set the author of the VEX document. If it's not set, the author will default to ",(0,o.jsx)(t.code,{children:"Project Copacetic"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"A VEX document must contain at least one VEX statement. If there are no fixed vulnerabilities, Copa will not generate a VEX document."}),"\n"]}),"\n"]})}),"\n",(0,o.jsxs)(t.p,{children:["To generate a VEX document using OpenVEX, use ",(0,o.jsx)(t.code,{children:'--format="openvex"'})," flag, and use ",(0,o.jsx)(t.code,{children:"--output"})," to specify a file path. For example:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'copa patch -i docker.io/library/nginx:1.21.6 -r nginx.1.21.6.json -t 1.21.6-patched --format="openvex" --output "nginx.1.21.6-vex.json"\n'})}),"\n",(0,o.jsx)(t.p,{children:"This will generate a VEX Document that looks like:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n  "@context": "https://openvex.dev/ns",\n  "@id": "https://openvex.dev/docs/public/vex-a6c44ec1d79e9dd4190dc01b4ecf7527ebb26bd37c01e32e6efcd203ae00d2a5",\n  "author": "Project Copacetic",\n  "timestamp": "2023-10-11T00:15:00.114768055Z",\n  "version": 1,\n  "tooling": "Project Copacetic",\n  "statements": [\n    {\n      "vulnerability": {\n        "@id": "CVE-2021-22945"\n      },\n      "products": [\n        {\n          "@id": "pkg:oci/docker.io/library/nginx:1.21.6-patched",\n          "subcomponents": [\n            {\n              "@id": "pkg:deb/debian/curl@7.74.0-1.3+deb11u2?arch=amd64"\n            },\n            {\n              "@id": "pkg:deb/debian/libcurl4@7.74.0-1.3+deb11u2?arch=amd64"\n            }\n          ]\n        }\n      ],\n      "status": "fixed"\n    },\n    ...\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var i=n(6540);const o={},s=i.createContext(o);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);