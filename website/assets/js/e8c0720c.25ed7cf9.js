"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6229],{7812:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"output","title":"VEX Output","description":"Experimental: This feature might change without preserving backwards compatibility.","source":"@site/docs/output.md","sourceDirName":".","slug":"/output","permalink":"/copacetic/website/next/output","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"VEX Output"},"sidebar":"sidebar","previous":{"title":"Custom BuildKit Addresses","permalink":"/copacetic/website/next/custom-address"},"next":{"title":"Scanner Plugins","permalink":"/copacetic/website/next/scanner-plugins"}}');var o=t(4848),s=t(8453);const a={title:"VEX Output"},r=void 0,c={},p=[{value:"OpenVEX",id:"openvex",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsx)(n.p,{children:"Experimental: This feature might change without preserving backwards compatibility."})}),"\n",(0,o.jsx)(n.p,{children:"Copa optionally outputs a Vulnerability Exploitability eXchange (VEX) file as a result of the patching process to surface the vulnerabilities and packages that were patched."}),"\n",(0,o.jsxs)(n.p,{children:["Currently, Copa supports the ",(0,o.jsx)(n.a,{href:"https://github.com/openvex",children:"OpenVEX"})," format, but it can be extended to support other formats."]}),"\n",(0,o.jsx)(n.h2,{id:"openvex",children:"OpenVEX"}),"\n",(0,o.jsxs)(n.p,{children:["OpenVEX is an implementation of Vulnerability Exploitability eXchange (VEX) format. For more information, see ",(0,o.jsx)(n.a,{href:"https://github.com/openvex/spec/",children:"OpenVEX specification"}),"."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"COPA_VEX_AUTHOR"})," environment variable to set the author of the VEX document. If it's not set, the author will default to ",(0,o.jsx)(n.code,{children:"Project Copacetic"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"A VEX document must contain at least one VEX statement. If there are no fixed vulnerabilities, Copa will not generate a VEX document."}),"\n"]}),"\n"]})}),"\n",(0,o.jsxs)(n.p,{children:["To generate a VEX document using OpenVEX, use ",(0,o.jsx)(n.code,{children:'--format="openvex"'})," flag, and use ",(0,o.jsx)(n.code,{children:"--output"})," to specify a file path. For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'copa patch -i mcr.microsoft.com/azure-cli:2.50.0 -r report.json -t 2.50.0-patched --format="openvex" --output "vex.json"\n'})}),"\n",(0,o.jsx)(n.p,{children:"This will generate a VEX Document that looks like:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "@context": "https://openvex.dev/ns",\n  "@id": "https://openvex.dev/docs/public/vex-e635674468f708838b7bd1b61b1c39bcf98639318eebfb510db519d947a5c204",\n  "author": "Project Copacetic",\n  "timestamp": "2025-09-10T16:52:53.988017858Z",\n  "version": 1,\n  "tooling": "Project Copacetic",\n  "statements": [\n    {\n      "vulnerability": {\n        "@id": "CVE-2024-0727"\n      },\n      "products": [\n        {\n          "@id": "pkg:oci/azure-cli@sha256:b40133b2ab18d506f54e4d42083cb95f814d8397d7ef95abe28e897c18e3091d",\n          "subcomponents": [\n            {\n              "@id": "pkg:apk/alpine/libcrypto3@3.1.4-r5?arch=amd64"\n            },\n            {\n              "@id": "pkg:apk/alpine/libssl3@3.1.4-r5?arch=amd64"\n            },\n            {\n              "@id": "pkg:apk/alpine/openssl@3.1.4-r5?arch=amd64"\n            },\n            {\n              "@id": "pkg:apk/alpine/openssl-dev@3.1.4-r5?arch=amd64"\n            },\n            {\n              "@id": "pkg:pypi/cryptography@41.0.6"\n            }\n          ]\n        }\n      ],\n      "status": "fixed"\n    }\n  ]\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);