<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-distroless-images" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Distroless Images | Copacetic</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://project-copacetic.github.io/copacetic/website/next/distroless-images"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Distroless Images | Copacetic"><meta data-rh="true" name="description" content="Copa supports patching distroless container images that lack package managers. This page explains how distroless patching works and which image types are supported."><meta data-rh="true" property="og:description" content="Copa supports patching distroless container images that lack package managers. This page explains how distroless patching works and which image types are supported."><link data-rh="true" rel="icon" href="/copacetic/website/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://project-copacetic.github.io/copacetic/website/next/distroless-images"><link data-rh="true" rel="alternate" href="https://project-copacetic.github.io/copacetic/website/next/distroless-images" hreflang="en"><link data-rh="true" rel="alternate" href="https://project-copacetic.github.io/copacetic/website/next/distroless-images" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://V764HJRQUN-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Distroless Images","item":"https://project-copacetic.github.io/copacetic/website/next/distroless-images"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3RC20QPKNS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3RC20QPKNS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Copacetic" href="/copacetic/website/opensearch.xml"><link rel="stylesheet" href="/copacetic/website/assets/css/styles.cc765d86.css">
<script src="/copacetic/website/assets/js/runtime~main.0f8a411c.js" defer="defer"></script>
<script src="/copacetic/website/assets/js/main.d5f99df7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/copacetic/website/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://project-copacetic.github.io/copacetic/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/copacetic/website/img/logo.png" alt="Copacetic Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/copacetic/website/img/logo.png" alt="Copacetic Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Copacetic</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/copacetic/website/next/distroless-images">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/copacetic/website/next/distroless-images">Next</a></li><li><a class="dropdown__link" href="/copacetic/website/introduction">v0.12.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.11.x/introduction">v0.11.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.10.x">v0.10.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.9.x">v0.9.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.8.x">v0.8.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.7.x">v0.7.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.6.x">v0.6.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.5.x">v0.5.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.4.x">v0.4.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.3.x">v0.3.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.2.x">v0.2.x</a></li><li><a class="dropdown__link" href="/copacetic/website/v0.1.x">v0.1.x</a></li></ul></div><a href="https://cloud-native.slack.com/archives/C071UU5QDKJ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Slack Connection"></a><a href="https://github.com/project-copacetic/copacetic" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/copacetic/website/next/introduction"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/installation"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/quick-start"><span title="Quick Start" class="linkLabel_WmDU">Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/best-practices"><span title="Tagging Guidelines" class="linkLabel_WmDU">Tagging Guidelines</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/copacetic/website/next/app-level-patching"><span title="Features" class="categoryLinkLabel_W154">Features</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/app-level-patching"><span title="App-Level Patching" class="linkLabel_WmDU">App-Level Patching</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/copacetic/website/next/distroless-images"><span title="Distroless Images" class="linkLabel_WmDU">Distroless Images</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/docker-build"><span title="Docker Build Integration" class="linkLabel_WmDU">Docker Build Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/github-action"><span title="Github Action" class="linkLabel_WmDU">Github Action</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/docker-extension"><span title="Docker Desktop Extension" class="linkLabel_WmDU">Docker Desktop Extension</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/buildkit-frontend"><span title="BuildKit Frontend" class="linkLabel_WmDU">BuildKit Frontend</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/custom-address"><span title="Custom BuildKit Addresses" class="linkLabel_WmDU">Custom BuildKit Addresses</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/output"><span title="VEX Output" class="linkLabel_WmDU">VEX Output</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/scanner-plugins"><span title="Scanner Plugins" class="linkLabel_WmDU">Scanner Plugins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/bulk-image-patching"><span title="Bulk Image Patching" class="linkLabel_WmDU">Bulk Image Patching</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/multiplatform-patching"><span title="Multi-Platform Patching" class="linkLabel_WmDU">Multi-Platform Patching</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/copacetic/website/next/contributing"><span title="Contributing" class="categoryLinkLabel_W154">Contributing</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/code-of-conduct"><span title="Code of Conduct" class="linkLabel_WmDU">Code of Conduct</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/design"><span title="Design" class="linkLabel_WmDU">Design</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/development-tips"><span title="Development and Testing Tips" class="linkLabel_WmDU">Development and Testing Tips</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/maintainer-guidelines"><span title="Maintainer Guidelines" class="linkLabel_WmDU">Maintainer Guidelines</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/release"><span title="Release Process" class="linkLabel_WmDU">Release Process</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/copacetic/website/next/adopters"><span title="Community" class="categoryLinkLabel_W154">Community</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/adopters"><span title="Adopters" class="linkLabel_WmDU">Adopters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/copacetic/website/next/talks-and-presentations"><span title="Talks and Presentations" class="linkLabel_WmDU">Talks and Presentations</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Copacetic<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/copacetic/website/introduction">latest version</a></b> (<!-- -->v0.12.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/copacetic/website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Distroless Images</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Distroless Images</h1></header><p>Copa supports patching distroless container images that lack package managers. This page explains how distroless patching works and which image types are supported.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p><a href="https://github.com/GoogleContainerTools/distroless" target="_blank" rel="noopener noreferrer" class="">Distroless images</a> are minimal container images that contain only the application and its runtime dependencies, without package managers, shells, or other OS utilities. While this reduces the attack surface, it traditionally makes patching vulnerabilities more difficult.</p>
<p>Copa solves this by using a <strong>tooling container</strong> approach: it spins up a separate container with the necessary package management tools, downloads and processes the required updates, then copies the patched binaries to the target distroless image.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="supported-distroless-images">Supported Distroless Images<a href="#supported-distroless-images" class="hash-link" aria-label="Direct link to Supported Distroless Images" title="Direct link to Supported Distroless Images" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dpkg-based-debian">DPKG-based (Debian)<a href="#dpkg-based-debian" class="hash-link" aria-label="Direct link to DPKG-based (Debian)" title="Direct link to DPKG-based (Debian)" translate="no">​</a></h3>
<p>Copa supports patching Debian-based distroless images, including:</p>
<ul>
<li class="">Google&#x27;s distroless images (<code>gcr.io/distroless/*</code>)</li>
<li class="">Custom Debian-based distroless images</li>
</ul>
<p>For these images, Copa uses a Debian tooling image matching the target&#x27;s version to process package updates.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rpm-based-azure-linux--cbl-mariner">RPM-based (Azure Linux / CBL-Mariner)<a href="#rpm-based-azure-linux--cbl-mariner" class="hash-link" aria-label="Direct link to RPM-based (Azure Linux / CBL-Mariner)" title="Direct link to RPM-based (Azure Linux / CBL-Mariner)" translate="no">​</a></h3>
<p>Copa supports patching RPM-based distroless images, including:</p>
<ul>
<li class="">Azure Linux distroless (<code>mcr.microsoft.com/azurelinux/distroless/base</code>)</li>
<li class="">CBL-Mariner distroless (<code>mcr.microsoft.com/cbl-mariner/distroless/base</code>)</li>
</ul>
<p>For these images, Copa uses the corresponding Azure Linux or CBL-Mariner tooling image.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unsupported-distroless-images">Unsupported Distroless Images<a href="#unsupported-distroless-images" class="hash-link" aria-label="Direct link to Unsupported Distroless Images" title="Direct link to Unsupported Distroless Images" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="alpine-based-distroless">Alpine-based Distroless<a href="#alpine-based-distroless" class="hash-link" aria-label="Direct link to Alpine-based Distroless" title="Direct link to Alpine-based Distroless" translate="no">​</a></h3>
<p>Copa does not support patching distroless Alpine images. Alpine images that include the <code>apk</code> package manager can be patched normally.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="chainguard-images">Chainguard Images<a href="#chainguard-images" class="hash-link" aria-label="Direct link to Chainguard Images" title="Direct link to Chainguard Images" translate="no">​</a></h3>
<p>Copa does not support Chainguard&#x27;s wolfi-based images.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" translate="no">​</a></h2>
<p>When Copa detects a distroless image, it follows this process:</p>
<ol>
<li class="">
<p><strong>Detection</strong>: Copa probes the target image to identify its OS type and determine if it&#x27;s a distroless variant by checking for package manager status files.</p>
</li>
<li class="">
<p><strong>Tooling Container</strong>: Copa creates a tooling container based on the same OS distribution as the target image. For example:</p>
<ul>
<li class="">Debian distroless images use a <code>debian:*-slim</code> tooling image</li>
<li class="">Azure Linux distroless images use <code>ghcr.io/project-copacetic/copacetic/azurelinux/base/core</code> tooling image</li>
</ul>
</li>
<li class="">
<p><strong>Package Processing</strong>: The tooling container downloads the required security update packages and processes them.</p>
</li>
<li class="">
<p><strong>Binary Deployment</strong>: Copa copies only the updated binaries from the tooling container to the target distroless image, creating a new patch layer.</p>
</li>
<li class="">
<p><strong>Layer Optimization</strong>: The resulting image contains only the original layers plus a single patch layer with the security updates.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-example">Usage Example<a href="#usage-example" class="hash-link" aria-label="Direct link to Usage Example" title="Direct link to Usage Example" translate="no">​</a></h2>
<p>Patching a distroless image works the same as patching any other image:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Pull the distroless image</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull mcr.microsoft.com/cbl-mariner/distroless/base:2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Generate vulnerability report</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">trivy image --vuln-type os --ignore-unfixed -f json -o scan.json \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  mcr.microsoft.com/cbl-mariner/distroless/base:2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Patch the image</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">copa patch \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -i mcr.microsoft.com/cbl-mariner/distroless/base:2.0 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -r scan.json \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -t 2.0-patched</span><br></span></code></pre></div></div>
<p>The patched image (<code>mcr.microsoft.com/cbl-mariner/distroless/base:2.0-patched</code>) will contain the security updates while maintaining the minimal distroless characteristics.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations" translate="no">​</a></h2>
<ul>
<li class="">
<p><strong>No shell access</strong>: Since distroless images lack shells, Copa cannot execute commands directly in the target image. All package operations happen in the tooling container.</p>
</li>
<li class="">
<p><strong>Package availability</strong>: Updates are limited to packages available in the distribution&#x27;s official repositories.</p>
</li>
<li class="">
<p><strong>OS version matching</strong>: The tooling container must match the target image&#x27;s OS version. If Copa cannot determine the exact version, patching may fail.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-upgradable-packages-found">&quot;No upgradable packages found&quot;<a href="#no-upgradable-packages-found" class="hash-link" aria-label="Direct link to &quot;No upgradable packages found&quot;" title="Direct link to &quot;No upgradable packages found&quot;" translate="no">​</a></h3>
<p>This message indicates that either:</p>
<ul>
<li class="">There are no vulnerable packages with available updates</li>
<li class="">The vulnerability scanner report doesn&#x27;t contain fixable vulnerabilities</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tooling-image-pull-failures">Tooling image pull failures<a href="#tooling-image-pull-failures" class="hash-link" aria-label="Direct link to Tooling image pull failures" title="Direct link to Tooling image pull failures" translate="no">​</a></h3>
<p>If Copa fails to pull the tooling image, ensure you have network access to the container registry hosting the tooling images. See the <a class="" href="/copacetic/website/next/faq#how-does-copa-determine-what-tooling-image-to-use">FAQ</a> for details on which tooling images are used.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/copacetic/website/next/app-level-patching"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">App-Level Patching</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/copacetic/website/next/docker-build"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker Build Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#supported-distroless-images" class="table-of-contents__link toc-highlight">Supported Distroless Images</a><ul><li><a href="#dpkg-based-debian" class="table-of-contents__link toc-highlight">DPKG-based (Debian)</a></li><li><a href="#rpm-based-azure-linux--cbl-mariner" class="table-of-contents__link toc-highlight">RPM-based (Azure Linux / CBL-Mariner)</a></li></ul></li><li><a href="#unsupported-distroless-images" class="table-of-contents__link toc-highlight">Unsupported Distroless Images</a><ul><li><a href="#alpine-based-distroless" class="table-of-contents__link toc-highlight">Alpine-based Distroless</a></li><li><a href="#chainguard-images" class="table-of-contents__link toc-highlight">Chainguard Images</a></li></ul></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a></li><li><a href="#usage-example" class="table-of-contents__link toc-highlight">Usage Example</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#no-upgradable-packages-found" class="table-of-contents__link toc-highlight">&quot;No upgradable packages found&quot;</a></li><li><a href="#tooling-image-pull-failures" class="table-of-contents__link toc-highlight">Tooling image pull failures</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Linux Foundation. The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a>.</div></div></div></footer></div>
</body>
</html>